<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Details - Student E-Index</title>

    <!-- Custom CSS -->
    <link href="assets/css/styles.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Main Content -->
    <div class="container">
      <div class="content">
        <div class="card">
          <div class="card-header">
            <div class="header-content">
              <h5>Student Information</h5>
              <a href="/" class="btn btn-light"> Back to List </a>
            </div>
          </div>
          <div class="card-body">
            <!-- Student Info Section -->
            <div id="studentInfo" class="student-details">
              <!-- Student details will be loaded dynamically -->
            </div>

            <!-- Records Section -->
            <div class="records-section">
              <div class="records-header">
                <div class="header-left">
                  <select id="recordTypeSelect" class="form-select">
                    <option value="academic">Academic Records</option>
                    <option value="attendance">Attendance Records</option>
                  </select>
                  <select id="subjectSelect" class="form-select">
                    <option value="all">All Subjects</option>
                    <option value="IT223">IT223</option>
                    <option value="IT221">IT221</option>
                  </select>
                  <select id="categoryFilter" class="form-select">
                    <option value="all">All Categories</option>
                    <option value="quizzes">Quizzes</option>
                    <option value="exams">Exams</option>
                    <option value="activities">Activities</option>
                  </select>
                </div>
                <button class="btn btn-primary" id="addRecordBtn">
                  Add Record
                </button>
              </div>
              <div class="table-container">
                <table id="studentRecords" class="table">
                  <thead>
                    <tr id="academicHeaders">
                      <th>Subject</th>
                      <th>Category</th>
                      <th>Record #</th>
                      <th>Items</th>
                      <th>Score</th>
                      <th>Actions</th>
                    </tr>
                    <tr id="attendanceHeaders" style="display: none">
                      <th>Subject</th>
                      <th>Date</th>
                      <th>Time</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Records will be loaded dynamically -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add/Edit Record Modal -->
    <div class="modal" id="recordModal">
      <div class="modal-content">
        <div class="modal-header">
          <h5>Add Record</h5>
          <button
            type="button"
            class="close-btn"
            id="closeRecordModalBtn"
          ></button>
        </div>
        <div class="modal-body">
          <form id="recordForm" novalidate>
            <div class="form-group">
              <label>Record Type</label>
              <select
                class="form-select"
                name="record_type"
                id="recordTypeForm"
                required
              >
                <option value="academic">Academic Record</option>
                <option value="attendance">Attendance Record</option>
              </select>
              <div class="error-message">Please select a record type</div>
            </div>

            <!-- Academic Record Form -->
            <div id="academicRecordForm">
              <div class="form-group">
                <label>Subject</label>
                <select class="form-select" name="subject" required>
                  <option value="IT223">IT223</option>
                  <option value="IT221">IT221</option>
                </select>
                <div class="error-message">Please select a subject</div>
              </div>
              <div class="form-group">
                <label>Category</label>
                <select class="form-select" name="category" required>
                  <option value="quizzes">Quizzes</option>
                  <option value="exams">Exams</option>
                  <option value="activities">Activities</option>
                </select>
                <div class="error-message">Please select a category</div>
              </div>
              <div class="form-group">
                <label>Record Number</label>
                <input
                  type="text"
                  class="form-control"
                  name="record_number"
                  required
                />
                <div class="error-message">
                  Please enter a valid record number
                </div>
              </div>
              <div class="form-group">
                <label>Total Items</label>
                <input type="text" class="form-control" name="items" required />
                <div class="error-message">
                  Please enter a valid number of items
                </div>
              </div>
              <div class="form-group">
                <label>Score</label>
                <input type="text" class="form-control" name="score" required />
                <div class="error-message">Please enter a valid score</div>
              </div>
            </div>

            <!-- Attendance Record Form -->
            <div id="attendanceRecordForm" style="display: none">
              <div class="form-group">
                <label>Subject</label>
                <select class="form-select" name="attendance_subject" required>
                  <option value="IT223">IT223</option>
                  <option value="IT221">IT221</option>
                </select>
                <div class="error-message">Please select a subject</div>
              </div>
              <div class="form-group">
                <label>Date</label>
                <input type="date" class="form-control" name="date" required />
                <div class="error-message">Please select a date</div>
              </div>
              <div class="form-group">
                <label>Time</label>
                <input type="time" class="form-control" name="time" required />
                <div class="error-message">Please select a time</div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" id="cancelRecordBtn">
            Cancel
          </button>
          <button type="button" class="btn btn-primary" id="saveRecordBtn">
            Save Record
          </button>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteRecordModal">
      <div class="modal-content">
        <div class="modal-header">
          <h5>Delete Record</h5>
          <button
            type="button"
            class="close-btn"
            id="closeDeleteModalBtn"
          ></button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete this record?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" id="cancelDeleteBtn">
            Cancel
          </button>
          <button type="button" class="btn btn-danger" id="confirmDeleteBtn">
            Delete
          </button>
        </div>
      </div>
    </div>

    <!-- Custom JS -->
    <script type="module" src="assets/js/student.js"></script>
  </body>
</html>
